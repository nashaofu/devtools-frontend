{"version":3,"file":"ResourceScriptMapping.js","sourceRoot":"","sources":["../../../../../../front_end/models/bindings/ResourceScriptMapping.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * Copyright (C) 2012 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as SDK from '../../core/sdk/sdk.js';\nimport * as Workspace from '../workspace/workspace.js';\nimport type * as Protocol from '../../generated/protocol.js';\n\nimport type {Breakpoint} from './BreakpointManager.js';\nimport {BreakpointManager} from './BreakpointManager.js';\nimport {ContentProviderBasedProject} from './ContentProviderBasedProject.js';\nimport type {DebuggerSourceMapping, DebuggerWorkspaceBinding} from './DebuggerWorkspaceBinding.js';\nimport {NetworkProject} from './NetworkProject.js';\nimport {metadataForURL} from './ResourceUtils.js';\n\nconst UIStrings = {\n  /**\n  *@description Error text displayed in the console when editing a live script fails. LiveEdit is\n  *the name of the feature for editing code that is already running.\n  *@example {warning} PH1\n  */\n  liveEditFailed: '`LiveEdit` failed: {PH1}',\n  /**\n  *@description Error text displayed in the console when compiling a live-edited script fails. LiveEdit is\n  *the name of the feature for editing code that is already running.\n  *@example {connection lost} PH1\n  */\n  liveEditCompileFailed: '`LiveEdit` compile failed: {PH1}',\n};\nconst str_ = i18n.i18n.registerUIStrings('models/bindings/ResourceScriptMapping.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nexport class ResourceScriptMapping implements DebuggerSourceMapping {\n  readonly debuggerModel: SDK.DebuggerModel.DebuggerModel;\n  #workspace: Workspace.Workspace.WorkspaceImpl;\n  readonly debuggerWorkspaceBinding: DebuggerWorkspaceBinding;\n  readonly #uiSourceCodeToScriptFile: Map<Workspace.UISourceCode.UISourceCode, ResourceScriptFile>;\n  readonly #projects: Map<string, ContentProviderBasedProject>;\n  #acceptedScripts: Set<SDK.Script.Script>;\n  readonly #eventListeners: Common.EventTarget.EventDescriptor[];\n\n  constructor(\n      debuggerModel: SDK.DebuggerModel.DebuggerModel, workspace: Workspace.Workspace.WorkspaceImpl,\n      debuggerWorkspaceBinding: DebuggerWorkspaceBinding) {\n    this.debuggerModel = debuggerModel;\n    this.#workspace = workspace;\n    this.debuggerWorkspaceBinding = debuggerWorkspaceBinding;\n    this.#uiSourceCodeToScriptFile = new Map();\n\n    this.#projects = new Map();\n\n    this.#acceptedScripts = new Set();\n    const runtimeModel = debuggerModel.runtimeModel();\n    this.#eventListeners = [\n      this.debuggerModel.addEventListener(\n          SDK.DebuggerModel.Events.ParsedScriptSource,\n          event => {\n            void this.parsedScriptSource(event);\n          },\n          this),\n      this.debuggerModel.addEventListener(SDK.DebuggerModel.Events.GlobalObjectCleared, this.globalObjectCleared, this),\n      runtimeModel.addEventListener(\n          SDK.RuntimeModel.Events.ExecutionContextDestroyed, this.executionContextDestroyed, this),\n    ];\n  }\n\n  private project(script: SDK.Script.Script): ContentProviderBasedProject {\n    const prefix = script.isContentScript() ? 'js:extensions:' : 'js::';\n    const projectId = prefix + this.debuggerModel.target().id() + ':' + script.frameId;\n    let project = this.#projects.get(projectId);\n    if (!project) {\n      const projectType = script.isContentScript() ? Workspace.Workspace.projectTypes.ContentScripts :\n                                                     Workspace.Workspace.projectTypes.Network;\n      project = new ContentProviderBasedProject(\n          this.#workspace, projectId, projectType, '' /* displayName */, false /* isServiceProject */);\n      NetworkProject.setTargetForProject(project, this.debuggerModel.target());\n      this.#projects.set(projectId, project);\n    }\n    return project;\n  }\n\n  rawLocationToUILocation(rawLocation: SDK.DebuggerModel.Location): Workspace.UISourceCode.UILocation|null {\n    const script = rawLocation.script();\n    if (!script) {\n      return null;\n    }\n    const project = this.project(script);\n    const uiSourceCode = project.uiSourceCodeForURL(script.sourceURL);\n    if (!uiSourceCode) {\n      return null;\n    }\n    const scriptFile = this.#uiSourceCodeToScriptFile.get(uiSourceCode);\n    if (!scriptFile) {\n      return null;\n    }\n    if ((scriptFile.hasDivergedFromVM() && !scriptFile.isMergingToVM()) || scriptFile.isDivergingFromVM()) {\n      return null;\n    }\n    if (!scriptFile.hasScripts([script])) {\n      return null;\n    }\n    const {lineNumber, columnNumber = 0} = rawLocation;\n    return uiSourceCode.uiLocation(lineNumber, columnNumber);\n  }\n\n  uiLocationToRawLocations(uiSourceCode: Workspace.UISourceCode.UISourceCode, lineNumber: number, columnNumber: number):\n      SDK.DebuggerModel.Location[] {\n    const scriptFile = this.#uiSourceCodeToScriptFile.get(uiSourceCode);\n    if (!scriptFile) {\n      return [];\n    }\n\n    const {script} = scriptFile;\n    if (!script) {\n      return [];\n    }\n\n    return [this.debuggerModel.createRawLocation(script, lineNumber, columnNumber)];\n  }\n\n  private acceptsScript(script: SDK.Script.Script): boolean {\n    if (!script.sourceURL || script.isLiveEdit() || (script.isInlineScript() && !script.hasSourceURL)) {\n      return false;\n    }\n    // Filter out embedder injected content scripts.\n    if (script.isContentScript() && !script.hasSourceURL) {\n      const parsedURL = new Common.ParsedURL.ParsedURL(script.sourceURL);\n      if (!parsedURL.isValid) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  private async parsedScriptSource(event: Common.EventTarget.EventTargetEvent<SDK.Script.Script>): Promise<void> {\n    const script = event.data;\n    if (!this.acceptsScript(script)) {\n      return;\n    }\n    this.#acceptedScripts.add(script);\n    const originalContentProvider = script.originalContentProvider();\n\n    const url = script.sourceURL;\n    const project = this.project(script);\n\n    // Remove previous UISourceCode, if any\n    const oldUISourceCode = project.uiSourceCodeForURL(url);\n    if (oldUISourceCode) {\n      const scriptFile = this.#uiSourceCodeToScriptFile.get(oldUISourceCode);\n      if (scriptFile && scriptFile.script) {\n        await this.removeScript(scriptFile.script);\n      }\n    }\n\n    // Create UISourceCode.\n    const uiSourceCode = project.createUISourceCode(url, originalContentProvider.contentType());\n    NetworkProject.setInitialFrameAttribution(uiSourceCode, script.frameId);\n    const metadata = metadataForURL(this.debuggerModel.target(), script.frameId, url);\n\n    // Bind UISourceCode to scripts.\n    const scriptFile = new ResourceScriptFile(this, uiSourceCode, [script]);\n    this.#uiSourceCodeToScriptFile.set(uiSourceCode, scriptFile);\n\n    const mimeType = script.isWasm() ? 'application/wasm' : 'text/javascript';\n    project.addUISourceCodeWithProvider(uiSourceCode, originalContentProvider, metadata, mimeType);\n    await this.debuggerWorkspaceBinding.updateLocations(script);\n  }\n\n  scriptFile(uiSourceCode: Workspace.UISourceCode.UISourceCode): ResourceScriptFile|null {\n    return this.#uiSourceCodeToScriptFile.get(uiSourceCode) || null;\n  }\n\n  private async removeScript(script: SDK.Script.Script): Promise<void> {\n    if (!this.#acceptedScripts.has(script)) {\n      return;\n    }\n    this.#acceptedScripts.delete(script);\n    const project = this.project(script);\n    const uiSourceCode = (project.uiSourceCodeForURL(script.sourceURL) as Workspace.UISourceCode.UISourceCode);\n    const scriptFile = this.#uiSourceCodeToScriptFile.get(uiSourceCode);\n    if (scriptFile) {\n      scriptFile.dispose();\n    }\n    this.#uiSourceCodeToScriptFile.delete(uiSourceCode);\n    project.removeFile(script.sourceURL);\n    await this.debuggerWorkspaceBinding.updateLocations(script);\n  }\n\n  private executionContextDestroyed(event: Common.EventTarget.EventTargetEvent<SDK.RuntimeModel.ExecutionContext>):\n      void {\n    const executionContext = event.data;\n    const scripts = this.debuggerModel.scriptsForExecutionContext(executionContext);\n    for (const script of scripts) {\n      void this.removeScript(script);\n    }\n  }\n\n  private globalObjectCleared(): void {\n    const scripts = Array.from(this.#acceptedScripts);\n    for (const script of scripts) {\n      void this.removeScript(script);\n    }\n  }\n\n  resetForTest(): void {\n    const scripts = Array.from(this.#acceptedScripts);\n    for (const script of scripts) {\n      void this.removeScript(script);\n    }\n  }\n\n  dispose(): void {\n    Common.EventTarget.removeEventListeners(this.#eventListeners);\n    const scripts = Array.from(this.#acceptedScripts);\n    for (const script of scripts) {\n      void this.removeScript(script);\n    }\n    for (const project of this.#projects.values()) {\n      project.removeProject();\n    }\n    this.#projects.clear();\n  }\n}\n\nexport class ResourceScriptFile extends Common.ObjectWrapper.ObjectWrapper<ResourceScriptFile.EventTypes> {\n  readonly #resourceScriptMapping: ResourceScriptMapping;\n  readonly #uiSourceCodeInternal: Workspace.UISourceCode.UISourceCode;\n  scriptInternal: SDK.Script.Script|undefined;\n  #scriptSource?: string|null;\n  #isDivergingFromVMInternal?: boolean;\n  #hasDivergedFromVMInternal?: boolean;\n  #isMergingToVMInternal?: boolean;\n  constructor(\n      resourceScriptMapping: ResourceScriptMapping, uiSourceCode: Workspace.UISourceCode.UISourceCode,\n      scripts: SDK.Script.Script[]) {\n    super();\n    console.assert(scripts.length > 0);\n\n    this.#resourceScriptMapping = resourceScriptMapping;\n    this.#uiSourceCodeInternal = uiSourceCode;\n\n    if (this.#uiSourceCodeInternal.contentType().isScript()) {\n      this.scriptInternal = scripts[scripts.length - 1];\n    }\n\n    this.#uiSourceCodeInternal.addEventListener(\n        Workspace.UISourceCode.Events.WorkingCopyChanged, this.workingCopyChanged, this);\n    this.#uiSourceCodeInternal.addEventListener(\n        Workspace.UISourceCode.Events.WorkingCopyCommitted, this.workingCopyCommitted, this);\n  }\n\n  hasScripts(scripts: SDK.Script.Script[]): boolean {\n    return Boolean(this.scriptInternal) && this.scriptInternal === scripts[0];\n  }\n\n  private isDiverged(): boolean {\n    if (this.#uiSourceCodeInternal.isDirty()) {\n      return true;\n    }\n    if (!this.scriptInternal) {\n      return false;\n    }\n    if (typeof this.#scriptSource === 'undefined' || this.#scriptSource === null) {\n      return false;\n    }\n    const workingCopy = this.#uiSourceCodeInternal.workingCopy();\n    if (!workingCopy) {\n      return false;\n    }\n\n    // Match ignoring sourceURL.\n    if (!workingCopy.startsWith(this.#scriptSource.trimRight())) {\n      return true;\n    }\n    const suffix = this.#uiSourceCodeInternal.workingCopy().substr(this.#scriptSource.length);\n    return Boolean(suffix.length) && !suffix.match(SDK.Script.sourceURLRegex);\n  }\n\n  private workingCopyChanged(): void {\n    void this.update();\n  }\n\n  private workingCopyCommitted(): void {\n    if (this.#uiSourceCodeInternal.project().canSetFileContent()) {\n      return;\n    }\n    if (!this.scriptInternal) {\n      return;\n    }\n    const debuggerModel = this.#resourceScriptMapping.debuggerModel;\n    const breakpoints = BreakpointManager.instance()\n                            .breakpointLocationsForUISourceCode(this.#uiSourceCodeInternal)\n                            .map(breakpointLocation => breakpointLocation.breakpoint);\n    const source = this.#uiSourceCodeInternal.workingCopy();\n    debuggerModel.setScriptSource(this.scriptInternal.scriptId, source, (error, exceptionDetails) => {\n      void this.scriptSourceWasSet(source, breakpoints, error, exceptionDetails);\n    });\n  }\n\n  async scriptSourceWasSet(\n      source: string, breakpoints: Breakpoint[], error: string|null,\n      exceptionDetails?: Protocol.Runtime.ExceptionDetails): Promise<void> {\n    if (!error && !exceptionDetails) {\n      this.#scriptSource = source;\n    }\n    await this.update();\n\n    if (!error && !exceptionDetails) {\n      // Live edit can cause #breakpoints to be in the wrong position, or to be lost altogether.\n      // If any #breakpoints were in the pre-live edit script, they need to be re-added.\n      await Promise.all(breakpoints.map(breakpoint => breakpoint.refreshInDebugger()));\n      return;\n    }\n    if (!exceptionDetails) {\n      Common.Console.Console.instance().addMessage(\n          i18nString(UIStrings.liveEditFailed, {PH1: String(error)}), Common.Console.MessageLevel.Warning);\n      return;\n    }\n    const messageText = i18nString(UIStrings.liveEditCompileFailed, {PH1: exceptionDetails.text});\n    this.#uiSourceCodeInternal.addLineMessage(\n        Workspace.UISourceCode.Message.Level.Error, messageText, exceptionDetails.lineNumber,\n        exceptionDetails.columnNumber);\n  }\n\n  private async update(): Promise<void> {\n    if (this.isDiverged() && !this.#hasDivergedFromVMInternal) {\n      await this.divergeFromVM();\n    } else if (!this.isDiverged() && this.#hasDivergedFromVMInternal) {\n      await this.mergeToVM();\n    }\n  }\n\n  private async divergeFromVM(): Promise<void> {\n    if (this.scriptInternal) {\n      this.#isDivergingFromVMInternal = true;\n      await this.#resourceScriptMapping.debuggerWorkspaceBinding.updateLocations(this.scriptInternal);\n      this.#isDivergingFromVMInternal = undefined;\n      this.#hasDivergedFromVMInternal = true;\n      this.dispatchEventToListeners(ResourceScriptFile.Events.DidDivergeFromVM);\n    }\n  }\n\n  private async mergeToVM(): Promise<void> {\n    if (this.scriptInternal) {\n      this.#hasDivergedFromVMInternal = undefined;\n      this.#isMergingToVMInternal = true;\n      await this.#resourceScriptMapping.debuggerWorkspaceBinding.updateLocations(this.scriptInternal);\n      this.#isMergingToVMInternal = undefined;\n      this.dispatchEventToListeners(ResourceScriptFile.Events.DidMergeToVM);\n    }\n  }\n\n  hasDivergedFromVM(): boolean {\n    return Boolean(this.#hasDivergedFromVMInternal);\n  }\n\n  isDivergingFromVM(): boolean {\n    return Boolean(this.#isDivergingFromVMInternal);\n  }\n\n  isMergingToVM(): boolean {\n    return Boolean(this.#isMergingToVMInternal);\n  }\n\n  checkMapping(): void {\n    if (!this.scriptInternal || typeof this.#scriptSource !== 'undefined') {\n      this.mappingCheckedForTest();\n      return;\n    }\n    void this.scriptInternal.requestContent().then(deferredContent => {\n      this.#scriptSource = deferredContent.content;\n      void this.update().then(() => this.mappingCheckedForTest());\n    });\n  }\n\n  private mappingCheckedForTest(): void {\n  }\n\n  dispose(): void {\n    this.#uiSourceCodeInternal.removeEventListener(\n        Workspace.UISourceCode.Events.WorkingCopyChanged, this.workingCopyChanged, this);\n    this.#uiSourceCodeInternal.removeEventListener(\n        Workspace.UISourceCode.Events.WorkingCopyCommitted, this.workingCopyCommitted, this);\n  }\n\n  addSourceMapURL(sourceMapURL: string): void {\n    if (!this.scriptInternal) {\n      return;\n    }\n    this.scriptInternal.debuggerModel.setSourceMapURL(this.scriptInternal, sourceMapURL);\n  }\n\n  hasSourceMapURL(): boolean {\n    return this.scriptInternal !== undefined && Boolean(this.scriptInternal.sourceMapURL);\n  }\n\n  get script(): SDK.Script.Script|null {\n    return this.scriptInternal || null;\n  }\n\n  get uiSourceCode(): Workspace.UISourceCode.UISourceCode {\n    return this.#uiSourceCodeInternal;\n  }\n}\n\nexport namespace ResourceScriptFile {\n  export const enum Events {\n    DidMergeToVM = 'DidMergeToVM',\n    DidDivergeFromVM = 'DidDivergeFromVM',\n  }\n\n  export type EventTypes = {\n    [Events.DidMergeToVM]: void,\n    [Events.DidDivergeFromVM]: void,\n  };\n}\n"]}